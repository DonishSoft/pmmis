@using PMMIS.Web.Services
@using PMMIS.Domain.Entities
@inject IMenuPermissionService MenuPermissionService
@inject Microsoft.AspNetCore.Identity.UserManager<ApplicationUser> UserManager
@{
    Layout = null;
    
    // Get allowed menu keys for current user
    var allowedMenuKeys = new HashSet<string>();
    if (User.Identity?.IsAuthenticated == true)
    {
        var userId = UserManager.GetUserId(User);
        if (!string.IsNullOrEmpty(userId))
        {
            allowedMenuKeys = await MenuPermissionService.GetAllowedMenuKeysForUserAsync(userId);
        }
    }
    
    bool CanView(string menuKey) => allowedMenuKeys.Contains(menuKey);
}
<!DOCTYPE html>
<html lang="@System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - PMMIS</title>
    
    <!-- Syncfusion Essential JS 2 Styles -->
    <link rel="stylesheet" href="https://cdn.syncfusion.com/ej2/32.1.22/material.css" />
    
    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />
    
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    @await RenderSectionAsync("Styles", required: false)
</head>
<body>
    <div class="d-flex" id="wrapper">
        <!-- Sidebar -->
        <div class="sidebar bg-dark text-white" id="sidebar">
            <div class="sidebar-header p-3 border-bottom border-secondary">
                <h5 class="mb-0">
                    <i class="bi bi-water me-2"></i>
                    <span class="sidebar-text">PMMIS</span>
                </h5>
                <small class="sidebar-text text-muted">WSIP Project</small>
            </div>
            
            @{
                var currentController = ViewContext.RouteData.Values["controller"]?.ToString() ?? "";
                var currentAction = ViewContext.RouteData.Values["action"]?.ToString() ?? "";
            }
            <nav class="nav flex-column p-2">
                @if (CanView(MenuKeys.Home))
                {
                    <a class="nav-link text-white @(currentController == "Dashboard" ? "menu-active" : "")" asp-controller="Dashboard" asp-action="Index">
                        <i class="bi bi-speedometer2 me-2"></i>
                        <span class="sidebar-text">–ì–ª–∞–≤–Ω–∞—è</span>
                    </a>
                }
                
                @if (CanView(MenuKeys.Contracts) || CanView(MenuKeys.Contractors) || CanView(MenuKeys.Projects))
                {
                    <small class="text-muted px-3 mt-3 mb-1 sidebar-text">–û–°–ù–û–í–ù–û–ï</small>
                }
                
                @if (CanView(MenuKeys.Contracts))
                {
                    <a class="nav-link text-white @(currentController == "Contracts" ? "menu-active" : "")" asp-controller="Contracts" asp-action="Index">
                        <i class="bi bi-file-earmark-text me-2"></i>
                        <span class="sidebar-text">–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã</span>
                    </a>
                }
                @if (CanView(MenuKeys.Contractors))
                {
                    <a class="nav-link text-white @(currentController == "Contractors" ? "menu-active" : "")" asp-controller="Contractors" asp-action="Index">
                        <i class="bi bi-building me-2"></i>
                        <span class="sidebar-text">–ü–æ–¥—Ä—è–¥—á–∏–∫–∏</span>
                    </a>
                }
                @if (CanView(MenuKeys.Projects))
                {
                    <a class="nav-link text-white @(currentController == "Projects" ? "menu-active" : "")" asp-controller="Projects" asp-action="Index">
                        <i class="bi bi-diagram-3 me-2"></i>
                        <span class="sidebar-text">–ü—Ä–æ–µ–∫—Ç—ã</span>
                    </a>
                }
                @if (CanView(MenuKeys.Procurement))
                {
                    <a class="nav-link text-white @(currentController == "Procurement" ? "menu-active" : "")" asp-controller="Procurement" asp-action="Index">
                        <i class="bi bi-clipboard-check me-2"></i>
                        <span class="sidebar-text">–ü–ª–∞–Ω –∑–∞–∫—É–ø–æ–∫</span>
                    </a>
                }
                @if (CanView(MenuKeys.Payments))
                {
                    <a class="nav-link text-white @(currentController == "Payments" ? "menu-active" : "")" asp-controller="Payments" asp-action="Index">
                        <i class="bi bi-cash-stack me-2"></i>
                        <span class="sidebar-text">–ü–ª–∞—Ç–µ–∂–∏</span>
                    </a>
                }
                @if (CanView(MenuKeys.WorkProgress))
                {
                    <a class="nav-link text-white @(currentController == "WorkProgress" ? "menu-active" : "")" asp-controller="WorkProgress" asp-action="Index">
                        <i class="bi bi-graph-up-arrow me-2"></i>
                        <span class="sidebar-text">–ü—Ä–æ–≥—Ä–µ—Å—Å —Ä–∞–±–æ—Ç</span>
                    </a>
                }
                @if (CanView(MenuKeys.WorkProgressReports))
                {
                    <a class="nav-link text-white @(currentController == "WorkProgressReports" ? "menu-active" : "")" asp-controller="WorkProgressReports" asp-action="Index">
                        <i class="bi bi-file-earmark-check me-2"></i>
                        <span class="sidebar-text">–ê–í–†</span>
                    </a>
                }
                
                @if (CanView(MenuKeys.Tasks) || CanView(MenuKeys.Notifications))
                {
                    <small class="text-muted px-3 mt-3 mb-1 sidebar-text">–£–ü–†–ê–í–õ–ï–ù–ò–ï</small>
                }
                
                @if (CanView(MenuKeys.Tasks))
                {
                    <a class="nav-link text-white @(currentController == "Tasks" ? "menu-active" : "")" asp-controller="Tasks" asp-action="Index">
                        <i class="bi bi-list-check me-2"></i>
                        <span class="sidebar-text">–ó–∞–¥–∞—á–∏</span>
                    </a>
                }
                @if (CanView(MenuKeys.Notifications))
                {
                    <a class="nav-link text-white @(currentController == "Notifications" ? "menu-active" : "")" asp-controller="Notifications" asp-action="Index">
                        <i class="bi bi-bell me-2"></i>
                        <span class="sidebar-text">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                    </a>
                }
                
                @if (CanView(MenuKeys.Geography) || CanView(MenuKeys.Indicators) || CanView(MenuKeys.ReferenceData) || CanView(MenuKeys.Import))
                {
                    <small class="text-muted px-3 mt-3 mb-1 sidebar-text">–°–ü–†–ê–í–û–ß–ù–ò–ö–ò</small>
                }
                
                @if (CanView(MenuKeys.Geography))
                {
                    <a class="nav-link text-white @(currentController == "Geography" ? "menu-active" : "")" asp-controller="Geography" asp-action="Index">
                        <i class="bi bi-geo-alt me-2"></i>
                        <span class="sidebar-text">–ì–µ–æ–≥—Ä–∞—Ñ–∏—è</span>
                    </a>
                }
                @if (CanView(MenuKeys.Indicators))
                {
                    <a class="nav-link text-white @(currentController == "Indicators" ? "menu-active" : "")" asp-controller="Indicators" asp-action="Index">
                        <i class="bi bi-graph-up me-2"></i>
                        <span class="sidebar-text">–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã</span>
                    </a>
                }
                @if (CanView(MenuKeys.ReferenceData))
                {
                    <a class="nav-link text-white @(currentController == "ReferenceData" ? "menu-active" : "")" asp-controller="ReferenceData" asp-action="Index">
                        <i class="bi bi-book me-2"></i>
                        <span class="sidebar-text">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</span>
                    </a>
                }
                @if (CanView(MenuKeys.CurrencyRates))
                {
                    <a class="nav-link text-white @(currentController == "Currency" ? "menu-active" : "")" asp-controller="Currency" asp-action="Index">
                        <i class="bi bi-currency-exchange me-2"></i>
                        <span class="sidebar-text">–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç</span>
                    </a>
                }
                @if (CanView(MenuKeys.Import))
                {
                    <a class="nav-link text-white @(currentController == "Import" ? "menu-active" : "")" asp-controller="Import" asp-action="Index">
                        <i class="bi bi-cloud-upload me-2"></i>
                        <span class="sidebar-text">–ò–º–ø–æ—Ä—Ç</span>
                    </a>
                }
                
                @if (CanView(MenuKeys.Reports) || CanView(MenuKeys.Documents))
                {
                    <small class="text-muted px-3 mt-3 mb-1 sidebar-text">–û–¢–ß–Å–¢–ù–û–°–¢–¨</small>
                }
                
                @if (CanView(MenuKeys.Reports))
                {
                    <a class="nav-link text-white sidebar-submenu-toggle @(currentController == "Reports" ? "menu-active" : "")" 
                       href="#submenu-reports" data-bs-toggle="collapse" role="button" 
                       aria-expanded="@(currentController == "Reports" ? "true" : "false")">
                        <i class="bi bi-file-earmark-bar-graph me-2"></i>
                        <span class="sidebar-text">–û—Ç—á—ë—Ç—ã</span>
                        <i class="bi bi-chevron-down sidebar-text ms-auto submenu-chevron"></i>
                    </a>
                    <div class="collapse @(currentController == "Reports" ? "show" : "")" id="submenu-reports">
                        <nav class="nav flex-column sidebar-submenu">
                            <a class="nav-link text-white @(ViewContext.RouteData.Values["action"]?.ToString() == "Payments" && currentController == "Reports" ? "submenu-active" : "")" 
                               asp-controller="Reports" asp-action="Payments">
                                <i class="bi bi-cash-coin me-2"></i>
                                <span class="sidebar-text">–ü–ª–∞—Ç–µ–∂–∏</span>
                            </a>
                            <a class="nav-link text-white @(ViewContext.RouteData.Values["action"]?.ToString() == "Indicators" && currentController == "Reports" ? "submenu-active" : "")" 
                               asp-controller="Reports" asp-action="Indicators">
                                <i class="bi bi-graph-up-arrow me-2"></i>
                                <span class="sidebar-text">–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã</span>
                            </a>
                            <a class="nav-link text-white @(ViewContext.RouteData.Values["action"]?.ToString() == "EmployeeKpi" && currentController == "Reports" ? "submenu-active" : "")" 
                               asp-controller="Reports" asp-action="EmployeeKpi">
                                <i class="bi bi-person-lines-fill me-2"></i>
                                <span class="sidebar-text">KPI —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</span>
                            </a>
                        </nav>
                    </div>
                }
                @if (CanView(MenuKeys.Documents))
                {
                    <a class="nav-link text-white @(currentController == "Documents" ? "menu-active" : "")" asp-controller="Documents" asp-action="Index">
                        <i class="bi bi-folder me-2"></i>
                        <span class="sidebar-text">–î–æ–∫—É–º–µ–Ω—Ç—ã</span>
                    </a>
                }
                
                @if (CanView(MenuKeys.Users) || CanView(MenuKeys.Roles) || CanView(MenuKeys.Settings))
                {
                    <small class="text-muted px-3 mt-3 mb-1 sidebar-text">–ê–î–ú–ò–ù–ò–°–¢–†–ò–†–û–í–ê–ù–ò–ï</small>
                    
                    @if (CanView(MenuKeys.Users))
                    {
                        <a class="nav-link text-white @(currentController == "Users" && currentAction != "Hierarchy" ? "menu-active" : "")" asp-controller="Users" asp-action="Index">
                            <i class="bi bi-people me-2"></i>
                            <span class="sidebar-text">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</span>
                        </a>
                        <a class="nav-link text-white @(currentAction == "Hierarchy" ? "menu-active" : "")" asp-controller="Users" asp-action="Hierarchy">
                            <i class="bi bi-diagram-3 me-2"></i>
                            <span class="sidebar-text">–ò–µ—Ä–∞—Ä—Ö–∏—è</span>
                        </a>
                    }
                    @if (CanView(MenuKeys.Roles))
                    {
                        <a class="nav-link text-white @(currentController == "Roles" ? "menu-active" : "")" asp-controller="Roles" asp-action="Index">
                            <i class="bi bi-shield-lock me-2"></i>
                            <span class="sidebar-text">–†–æ–ª–∏</span>
                        </a>
                    }
                    @if (CanView(MenuKeys.Settings))
                    {
                        <a class="nav-link text-white @(currentController == "Settings" ? "menu-active" : "")" asp-controller="Settings" asp-action="Index">
                            <i class="bi bi-gear me-2"></i>
                            <span class="sidebar-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
                        </a>
                    }
                }
            </nav>
        </div>
        
        <!-- Page Content -->
        <div id="page-content-wrapper" class="flex-grow-1">
            <!-- Top Navbar -->
            <nav class="navbar navbar-light bg-white border-bottom px-4">
                <div class="d-flex align-items-center">
                    <button class="btn btn-outline-secondary btn-sm" id="toggle-sidebar">
                        <i class="bi bi-list"></i>
                    </button>
                </div>
                
                <div class="d-flex align-items-center gap-3">
                    <!-- Language Switcher -->
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="bi bi-globe me-1"></i>
                            @(System.Globalization.CultureInfo.CurrentUICulture.TwoLetterISOLanguageName.ToUpper())
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="?culture=ru">üá∑üá∫ –†—É—Å—Å–∫–∏–π</a></li>
                            <li><a class="dropdown-item" href="?culture=tg">üáπüáØ –¢–æ“∑–∏–∫”£</a></li>
                            <li><a class="dropdown-item" href="?culture=en">üá¨üáß English</a></li>
                        </ul>
                    </div>
                    
                    <!-- Notifications -->
                    <button class="btn btn-outline-secondary btn-sm position-relative">
                        <i class="bi bi-bell"></i>
                    </button>
                    
                    <!-- User Menu -->
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle me-1"></i>
                            @User.Identity?.Name
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>–ü—Ä–æ—Ñ–∏–ª—å</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li>
                                <form asp-controller="Account" asp-action="Logout" method="post">
                                    <button type="submit" class="dropdown-item text-danger">
                                        <i class="bi bi-box-arrow-right me-2"></i>–í—ã–π—Ç–∏
                                    </button>
                                </form>
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
            
            <!-- Main Content -->
            <main class="p-4">
                @RenderBody()
            </main>
        </div>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Syncfusion Essential JS 2 -->
    <script src="https://cdn.syncfusion.com/ej2/32.1.22/dist/ej2.min.js"></script>
    
    <!-- Syncfusion License Registration for JS Components -->
    <script>
        if (typeof ej !== 'undefined' && ej.base) {
            ej.base.registerLicense('Ngo9BigBOggjHTQxAR8/V1JGaF5cXGpCf1FpRmJGdld5fUVHYVZUTXxaS00DNHVRdkdlWX1ednRRRGVZUkB1W0JWYEs=');
        }
    </script>
    
    <!-- Syncfusion Russian Localization (Kanban only) -->
    <script>
        if (typeof ej !== 'undefined' && ej.base && ej.base.L10n) {
            // Load UI translations for Kanban
            // NOTE: Calendar uses JS text replacement instead of locale:'ru' due to CLDR requirements
            ej.base.L10n.load({
                'ru': {

                    'schedule': {
                        'day': '–î–µ–Ω—å',
                        'week': '–ù–µ–¥–µ–ª—è',
                        'workWeek': '–†–∞–±–æ—á–∞—è –Ω–µ–¥–µ–ª—è',
                        'month': '–ú–µ—Å—è—Ü',
                        'agenda': '–ü–æ–≤–µ—Å—Ç–∫–∞',
                        'weekAgenda': '–ü–æ–≤–µ—Å—Ç–∫–∞ –Ω–µ–¥–µ–ª–∏',
                        'workWeekAgenda': '–ü–æ–≤–µ—Å—Ç–∫–∞ —Ä–∞–±–æ—á–µ–π –Ω–µ–¥–µ–ª–∏',
                        'monthAgenda': '–ü–æ–≤–µ—Å—Ç–∫–∞ –º–µ—Å—è—Ü–∞',
                        'today': '–°–µ–≥–æ–¥–Ω—è',
                        'noEvents': '–ù–µ—Ç —Å–æ–±—ã—Ç–∏–π',
                        'emptyContainer': '–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å –Ω–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π.',
                        'allDay': '–í–µ—Å—å –¥–µ–Ω—å',
                        'start': '–ù–∞—á–∞–ª–æ',
                        'end': '–ö–æ–Ω–µ—Ü',
                        'more': '–µ—â—ë',
                        'close': '–ó–∞–∫—Ä—ã—Ç—å',
                        'cancel': '–û—Ç–º–µ–Ω–∞',
                        'noTitle': '(–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)',
                        'delete': '–£–¥–∞–ª–∏—Ç—å',
                        'deleteEvent': '–£–¥–∞–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ',
                        'deleteMultipleEvent': '–£–¥–∞–ª–∏—Ç—å —Å–æ–±—ã—Ç–∏—è',
                        'selectedItems': '–í—ã–±—Ä–∞–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤',
                        'deleteSeries': '–£–¥–∞–ª–∏—Ç—å —Å–µ—Ä–∏—é',
                        'edit': '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',
                        'editSeries': '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–∏—é',
                        'editEvent': '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ',
                        'createEvent': '–°–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ',
                        'subject': '–¢–µ–º–∞',
                        'addTitle': '–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ',
                        'moreDetails': '–ü–æ–¥—Ä–æ–±–Ω–µ–µ',
                        'save': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å',
                        'editContent': '–í—ã —Ö–æ—Ç–∏—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ –≤—Å—é —Å–µ—Ä–∏—é?',
                        'deleteRecurrenceContent': '–í—ã —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ –≤—Å—é —Å–µ—Ä–∏—é?',
                        'deleteContent': '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ?',
                        'deleteMultipleContent': '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è?',
                        'newEvent': '–ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ',
                        'title': '–ù–∞–∑–≤–∞–Ω–∏–µ',
                        'location': '–ú–µ—Å—Ç–æ',
                        'description': '–û–ø–∏—Å–∞–Ω–∏–µ',
                        'timezone': '–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å',
                        'startTimezone': '–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –Ω–∞—á–∞–ª–∞',
                        'endTimezone': '–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –æ–∫–æ–Ω—á–∞–Ω–∏—è',
                        'repeat': '–ü–æ–≤—Ç–æ—Ä—è—Ç—å',
                        'saveButton': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å',
                        'cancelButton': '–û—Ç–º–µ–Ω–∞',
                        'deleteButton': '–£–¥–∞–ª–∏—Ç—å',
                        'recurrence': '–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ',
                        'wrongPattern': '–ù–µ–≤–µ—Ä–Ω—ã–π —à–∞–±–ª–æ–Ω –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è.',
                        'seriesChangeAlert': '–ò–∑–º–µ–Ω–µ–Ω–∏—è —ç—Ç–æ–π —Å–µ—Ä–∏–∏ –±—É–¥—É—Ç –æ—Ç–º–µ–Ω–µ–Ω—ã.',
                        'createError': '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–Ω—å—à–µ —á–∞—Å—Ç–æ—Ç—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è.',
                        'sameDayAlert': '–î–≤–∞ —Å–æ–±—ã—Ç–∏—è –Ω–µ –º–æ–≥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ –æ–¥–∏–Ω –¥–µ–Ω—å.',
                        'editRecurrence': '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ',
                        'repeats': '–ü–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è',
                        'alert': '–í–Ω–∏–º–∞–Ω–∏–µ',
                        'startEndError': '–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞.',
                        'invalidDateError': '–í–≤–µ–¥—ë–Ω–Ω–∞—è –¥–∞—Ç–∞ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞.',
                        'ok': '–û–ö',
                        'occurrence': '–°–æ–±—ã—Ç–∏–µ',
                        'series': '–°–µ—Ä–∏—è',
                        'previous': '–ù–∞–∑–∞–¥',
                        'next': '–î–∞–ª–µ–µ',
                        'timelineDay': '–î–µ–Ω—å',
                        'timelineWeek': '–ù–µ–¥–µ–ª—è',
                        'timelineWorkWeek': '–†–∞–±–æ—á–∞—è –Ω–µ–¥–µ–ª—è',
                        'timelineMonth': '–ú–µ—Å—è—Ü'
                    },
                    'kanban': {
                        'items': '–∑–∞–¥–∞—á',
                        'min': '–ú–∏–Ω.',
                        'max': '–ú–∞–∫—Å.',
                        'cardsSelected': '–ö–∞—Ä—Ç–æ—á–µ–∫ –≤—ã–±—Ä–∞–Ω–æ',
                        'addTitle': '–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞—Ä—Ç–æ—á–∫—É',
                        'editTitle': '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É',
                        'deleteTitle': '–£–¥–∞–ª–∏—Ç—å –∫–∞—Ä—Ç–æ—á–∫—É',
                        'deleteContent': '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∫–∞—Ä—Ç–æ—á–∫—É?',
                        'save': '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å',
                        'delete': '–£–¥–∞–ª–∏—Ç—å',
                        'cancel': '–û—Ç–º–µ–Ω–∞',
                        'yes': '–î–∞',
                        'no': '–ù–µ—Ç',
                        'close': '–ó–∞–∫—Ä—ã—Ç—å',
                        'noCard': '–ù–µ—Ç –∑–∞–¥–∞—á',
                        'unassigned': '–ù–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–æ'
                    },
                    'calendar': {
                        'today': '–°–µ–≥–æ–¥–Ω—è'
                    }
                }
            });
            // Note: setCulture('ru') removed - Calendar requires full CLDR data
            // Kanban uses locale:'ru' in component config instead
        }
    </script>

    
    <script>
        // Sidebar Toggle
        document.getElementById('toggle-sidebar')?.addEventListener('click', function() {
            document.getElementById('sidebar')?.classList.toggle('collapsed');
        });
    </script>
    
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
